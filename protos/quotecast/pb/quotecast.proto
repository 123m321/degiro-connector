syntax = "proto3";

/* MESSAGE(S) DEFINITION */
message Metadata {
  string response_datetime = 1;
  double request_duration = 2;
}

message Metric {
  bool heartbeat = 1;
  string label = 5;
  int32 product_id = 4;
  int32 reference = 2;
  string value = 3;
}

message Quotecast {
  string json_data = 1;
  Metadata metadata = 2;
}

message Request {
  enum Action {
    SUBSCRIBE = 0;
    UNSUBSCRIBE = 1;
  }
  Action action = 1;
  string vwd_id = 2;
  repeated string label_list = 3;
  int32 status_code = 4;
}

message Ticker {
  repeated Metric metric_list = 1;
  repeated int32 product_list = 2;
  Metadata metadata = 3;
  repeated Metric filled_metric_list = 4;
}


message NewTicker {
  message Metrics {
    map<string, double> metrics =1;
  }
  Metadata metadata = 1;
  map<int32, NewTicker.Metrics> products = 2;
  repeated int32 product_list = 3;
}